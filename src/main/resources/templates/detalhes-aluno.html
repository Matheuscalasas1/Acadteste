<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Detalhes do Aluno - AcadSystem</title>
    <link rel="stylesheet" th:href="@{/home.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <style>
        .detalhes-container {
            background: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin: 1rem 0;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .detalhes-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem;
            border-bottom: 1px solid #eee;
            margin-bottom: 0.5rem;
        }
        
        .detalhes-item:last-child {
            border-bottom: none;
        }
        
        .detalhes-item strong {
            color: #333;
            min-width: 150px;
            font-weight: 600;
        }
        
        .detalhes-item span {
            color: #666;
            text-align: right;
            flex: 1;
        }
        
        .detalhes-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid #eee;
        }
        
        .info-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 1rem;
        }
        
        .info-card h3 {
            color: #333;
            margin-bottom: 1rem;
            border-bottom: 2px solid #0ef;
            padding-bottom: 0.5rem;
        }

        .badge-success {
            background-color: #28a745;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .badge-danger {
            background-color: #dc3545;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .badge-warning {
            background-color: #ffc107;
            color: #212529;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .badge-info {
            background-color: #17a2b8;
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }
    </style>
</head>
<body>
<header>
    <nav class="navbar">
        <a class="nav-link" th:href="@{/home}">← Voltar para Lista de Alunos</a>
    </nav>
</header>

<div class="container">
    <div class="section active">
        <h2>Detalhes do Aluno</h2>
        
        <div th:if="${aluno}" class="detalhes-container">
            <div class="info-card">
                <h3>Informações Pessoais</h3>
                <div class="detalhes-item">
                    <strong>Nome Completo:</strong>
                    <span th:text="${aluno.nomeAluno}"></span>
                </div>
                <div class="detalhes-item">
                    <strong>Matrícula:</strong>
                    <span th:text="${aluno.matricula}" style="font-family: monospace; font-weight: bold; color: #0ef;"></span>
                </div>
            </div>
            
            <div class="info-card">
                <h3>Informações Acadêmicas</h3>
                <div class="detalhes-item">
                    <strong>Curso:</strong>
                    <span th:text="${aluno.curso}"></span>
                </div>
                <div class="detalhes-item">
                    <strong>Turno:</strong>
                    <span th:text="${aluno.turno}"></span>
                </div>
                <div class="detalhes-item">
                    <strong>Status:</strong>
                    <span th:text="${aluno.status}" 
                          th:class="${aluno.status == 'Ativo'} ? 'badge-success' :
                                   (${aluno.status == 'Inativo'} ? 'badge-danger' :
                                   (${aluno.status == 'Trancado'} ? 'badge-warning' : 'badge-info'))">
                    </span>
                </div>
            </div>
            
            <div class="info-card">
                <h3>Informações do Sistema</h3>
                <div class="detalhes-item">
                    <strong>Data de Cadastro:</strong>
                    <span th:text="${#temporals.format(aluno.dataCriacao, 'dd/MM/yyyy HH:mm')}"></span>
                </div>
                <div class="detalhes-item">
                    <strong>Última Atualização:</strong>
                    <span th:text="${#temporals.format(aluno.dataAtualizacao, 'dd/MM/yyyy HH:mm')}"></span>
                </div>
                <div class="detalhes-item">
                    <strong>ID no Sistema:</strong>
                    <span th:text="${aluno.id}" style="font-family: monospace;"></span>
                </div>
            </div>
            
            <div class="detalhes-actions">
                <button class="btn-update" th:onclick="'window.location.href=\'/alunos/editar/' + ${aluno.id} + '\''">
                    <ion-icon name="create"></ion-icon>
                    Editar Aluno
                </button>
                
                <button class="btn-delete" th:onclick="'confirmarDelete(${aluno.id}, \"' + ${aluno.nomeAluno} + '\")'">
                    <ion-icon name="trash"></ion-icon>
                    Excluir Aluno
                </button>
                
                <button class="btn-back" th:onclick="'window.location.href=\'/home\''">
                    <ion-icon name="arrow-back"></ion-icon>
                    Voltar para Lista
                </button>
            </div>
        </div>
        
        <div th:unless="${aluno}" class="no-data">
            <p>Aluno não encontrado.</p>
            <button class="btn-back" th:onclick="'window.location.href=\'/home\''">
                <ion-icon name="arrow-back"></ion-icon>
                Voltar para Lista
            </button>
        </div>
    </div>
</div>

<footer>
    <p>© Sistema Escolar 2025</p>
</footer>

<script>
    function confirmarDelete(alunoId, alunoNome) {
        if (confirm('Tem certeza que deseja excluir o aluno "' + alunoNome + '"?')) {
            window.location.href = '/alunos/delete/' + alunoId;
        }
    }
</script>
</body>
</html>
